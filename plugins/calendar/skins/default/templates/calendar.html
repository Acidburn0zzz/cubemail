<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title><roundcube:object name="pagetitle" /></title>
<roundcube:include file="/includes/links.html" />
<script type="text/javascript" src="/functions.js"></script>
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="./plugins/calendar/skins/default/iehacks.css" /><![endif]-->
</head>
<body class="calendarmain">

<roundcube:include file="/includes/taskbar.html" />
<roundcube:include file="/includes/header.html" />

<div id="main">
  <div id="sidebar">
    <div id="datepicker"></div>
    <div id="calendars">
      <div class="boxtitle"><roundcube:label name="calendar.calendars" /></div>
      <div class="boxlistcontent">
      <roundcube:object name="plugin.calendar_list" id="calendarslist" />
      </div>
      <div class="boxfooter">
        <roundcube:button command="calendar-create" type="link" title="calendar.createcalendar" class="buttonPas addgroup" classAct="button addgroup" content=" " />
        <roundcube:button name="calendaroptionslink" id="calendaroptionslink" type="link" title="calendaractions" class="button groupactions" onclick="rcmail_ui.show_popup('calendaroptions');return false" content=" " />
      </div>
    </div>
  </div>
  <div id="sidebartoggle"></div>
  <div id="calendar"></div>
</div>

<div id="calendaroptionsmenu" class="popupmenu">
  <ul>
    <li><roundcube:button command="calendar-edit" label="calendar.edit" classAct="active" /></li>
    <li><roundcube:button command="calendar-remove" label="calendar.remove" classAct="active" /></li>
  </ul>
</div>

<div id="eventshow" class="uidialog">
  <h1 id="event-title">Event Title</h1>
  <div class="event-section" id="event-location">Location</div>
  <div class="event-section" id="event-date">From-To</div>
  <div class="event-section" id="event-description">
    <h5 class="label"><roundcube:label name="calendar.description" /></h5>
    <div class="event-text"></div>
  </div>
  <div class="event-section" id="event-repeat">
    <h5 class="label"><roundcube:label name="calendar.repeat" /></h5>
    <div class="event-text"></div>
  </div>
  <div class="event-section" id="event-alarm">
    <h5 class="label"><roundcube:label name="calendar.alarms" /></h5>
    <div class="event-text"></div>
  </div>
  <div class="event-section" id="event-attendees">
    <h5 class="label"><roundcube:label name="calendar.tabattendees" /></h5>
    <div class="event-text"></div>
  </div>
  <div class="event-line" id="event-calendar">
    <label><roundcube:label name="calendar.calendar" /></label>
    <span class="event-text">Default</span>
  </div>
  <div class="event-line" id="event-category">
    <label><roundcube:label name="calendar.category" /></label>
    <span class="event-text"></span>
  </div>
  <div class="event-line" id="event-free-busy">
    <label><roundcube:label name="calendar.freebusy" /></label>
    <span class="event-text"></span>
  </div>
  <div class="event-line" id="event-priority">
    <label><roundcube:label name="calendar.priority" /></label>
    <span class="event-text"></span>
  </div>
  <div class="event-line" id="event-sensitivity">
    <label><roundcube:label name="calendar.sensitivity" /></label>
    <span class="event-text"></span>
  </div>
  <div class="event-section" id="event-attachments">
    <label><roundcube:label name="attachments" /></label>
    <div class="event-text attachments-list"></div>
  </div>
</div>

<div id="eventedit" class="uidialog">
  <form id="eventtabs" action="#" method="post">
    <ul>
      <li><a href="#event-tab-1"><roundcube:label name="calendar.tabsummary" /></a></li>
      <li id="edit-tab-recurrence"><a href="#event-tab-2"><roundcube:label name="calendar.tabrecurrence" /></a></li>
      <li id="edit-tab-attendees"><a href="#event-tab-3"><roundcube:label name="calendar.tabattendees" /></a></li>
      <li id="edit-tab-attachments"><a href="#event-tab-4"><roundcube:label name="calendar.tabattachments" /></a></li>
    </ul>
    <!-- basic info -->
    <div id="event-tab-1">
      <div class="event-section">
        <label for="edit-title"><roundcube:label name="calendar.title" /></label>
        <br />
        <input type="text" class="text" name="title" id="edit-title" size="40" />
      </div>
      <div class="event-section">
        <label for="edit-location"><roundcube:label name="calendar.location" /></label>
        <br />
        <input type="text" class="text" name="location" id="edit-location" size="40" />
      </div>
      <div class="event-section">
        <label for="edit-description"><roundcube:label name="calendar.description" /></label>
        <br />
        <textarea name="description" id="edit-description" class="text" rows="5" cols="40"></textarea>
      </div>
      <div class="event-section">
        <label style="float:right;padding-right:0.5em"><input type="checkbox" name="allday" id="edit-allday" value="1" /><roundcube:label name="calendar.all-day" /></label>
        <label for="edit-startdate"><roundcube:label name="calendar.start" /></label>
        <input type="text" name="startdate" size="10" id="edit-startdate" /> &nbsp;
        <input type="text" name="starttime" size="6" id="edit-starttime" />
      </div>
      <div class="event-section">
        <label for="edit-enddate"><roundcube:label name="calendar.end" /></label>
        <input type="text" name="enddate" size="10" id="edit-enddate" /> &nbsp;
        <input type="text" name="endtime" size="6"  id="edit-endtime" />
      </div>
      <div class="event-section" id="edit-alarms">
        <label for="edit-alarm"><roundcube:label name="calendar.alarms" /></label>
        <roundcube:object name="plugin.alarm_select" />
      </div>
      <div class="event-section" id="calendar-select">
        <label for="edit-calendar"><roundcube:label name="calendar.calendar" /></label>
        <roundcube:object name="plugin.calendar_select" id="edit-calendar" />
      </div>
      <div class="event-section">
        <label for="edit-categories"><roundcube:label name="calendar.category" /></label>
        <roundcube:object name="plugin.category_select" id="edit-categories" />
      </div>
      <div class="event-section">
        <label for="edit-free-busy"><roundcube:label name="calendar.freebusy" /></label>
        <roundcube:object name="plugin.freebusy_select" id="edit-free-busy" />
      </div>
      <div class="event-section">
        <label for="edit-priority"><roundcube:label name="calendar.priority" /></label>
        <roundcube:object name="plugin.priority_select" id="edit-priority" />
      </div>
      <div class="event-section">
        <label for="edit-sensitivity"><roundcube:label name="calendar.sensitivity" /></label>
        <roundcube:object name="plugin.sensitivity_select" id="edit-sensitivity" />
      </div>
    </div>
    <!-- recurrence settings -->
    <div id="event-tab-2">
      <div class="event-section border-after">
        <roundcube:object name="plugin.recurrence_form" part="frequency" />
      </div>
      <div class="recurrence-form border-after" id="recurrence-form-daily">
        <roundcube:object name="plugin.recurrence_form" part="daily" class="event-section" />
      </div>
      <div class="recurrence-form border-after" id="recurrence-form-weekly">
        <roundcube:object name="plugin.recurrence_form" part="weekly" class="event-section" />
      </div>
      <div class="recurrence-form border-after" id="recurrence-form-monthly">
        <roundcube:object name="plugin.recurrence_form" part="monthly" class="event-section" />
      </div>
      <div class="recurrence-form border-after" id="recurrence-form-yearly">
        <roundcube:object name="plugin.recurrence_form" part="yearly" class="event-section" />
      </div>
      <div class="recurrence-form" id="recurrence-form-until">
        <roundcube:object name="plugin.recurrence_form" part="until" class="event-section" />
      </div>
    </div>
    <!-- attendees list -->
    <div id="event-tab-3">
      <roundcube:object name="plugin.attendees_list" id="edit-attendees-table" cellspacing="0" cellpadding="0" border="0" />
      <roundcube:object name="plugin.attendees_form" id="edit-attendees-form" />
      <roundcube:include file="/templates/freebusylegend.html" />
    </div>
    <!-- attachments list (with upload form) -->
    <div id="event-tab-4">
      <div id="edit-attachments" class="attachments-list">
        <roundcube:object name="plugin.attachments_list" id="attachmentlist" deleteIcon="/images/icons/delete.png" cancelIcon="/images/icons/delete.png" loadingIcon="/images/display/loading_blue.gif" />
      </div>
      <div id="edit-attachments-form">
        <roundcube:object name="plugin.attachments_form" id="calendar-attachment-form" attachmentFieldSize="30" />
      </div>
    </div>
  </form>

  <roundcube:object name="plugin.edit_recurring_warning" class="edit-recurring-warning" style="display:none" />
</div>

<div id="eventfreebusy" class="uidialog">
  <roundcube:object name="plugin.attendees_freebusy_table" id="attendees-freebusy-table" cellspacing="0" cellpadding="0" border="0" />
  
  <div class="schedule-options">
    &nbsp;
    <div class="schedule-buttons">
      <button id="shedule-freebusy-prev" title="<roundcube:label name='previouspage' />">&#9668;</button><button id="shedule-freebusy-next" title="<roundcube:label name='nextpage' />">&#9658;</button>
    </div>
  </div>
  
  <div style="float:left; width:28em">
    <div class="form-section">
      <label for="schedule-startdate"><roundcube:label name="calendar.start" /></label>
      <input type="text" name="startdate" size="10" id="schedule-startdate" disabled="true" /> &nbsp;
      <input type="text" name="starttime" size="6" id="schedule-starttime" disabled="true" />
    </div>
    <div class="form-section">
      <label for="schedule-enddate"><roundcube:label name="calendar.end" /></label>
      <input type="text" name="enddate" size="10" id="schedule-enddate" disabled="true" /> &nbsp;
      <input type="text" name="endtime" size="6"  id="schedule-endtime" disabled="true" />
    </div>
  </div>
  <div style="float:left">
    <div class="schedule-find-buttons">
      <button id="shedule-find-prev">&#9668; <roundcube:label name="calendar.prevslot" /></button>
      <button id="shedule-find-next"><roundcube:label name="calendar.nextslot" /> &#9658;</button>
    </div>
    <div class="schedule-options">
      <label><input type="checkbox" id="schedule-freebusy-wokinghours" value="1" /><roundcube:label name="calendar.onlyworkinghours" /></label>
    </div>
  </div>
  <br style="clear:both;" />
  
  <roundcube:include file="/templates/freebusylegend.html" />
  <div class="attendees-list">
    <span class="attendee organizer"><roundcube:label name="calendar.roleorganizer" /></span>
    <span class="attendee req-participant"><roundcube:label name="calendar.rolerequired" /></span>
    <span class="attendee opt-participant"><roundcube:label name="calendar.roleoptional" /></span>
    <span class="attendee chair"><roundcube:label name="calendar.roleresource" /></span>
  </div>
</div>

<div id="calendarform" class="uidialog">
  <roundcube:label name="loading" />
</div>

<div id="alarm-snooze-dropdown" class="popupmenu">
  <roundcube:object name="plugin.snooze_select" type="ul" />
</div>

<div id="calendartoolbar">
  <roundcube:button command="addevent" type="link" class="buttonPas addevent" classAct="button addevent" classSel="button addeventSel" title="calendar.new_event" content=" " />
  <roundcube:button command="print" type="link" class="buttonPas print" classAct="button print" classSel="button printSel" title="calendar.print" content=" " />
  <roundcube:button command="export" type="link" class="buttonPas export" classAct="button export" classSel="button exportSel" title="calendar.export" content=" " />
  <roundcube:container name="toolbar" id="calendartoolbar" />
</div>

<div id="quicksearchbar">
<roundcube:button name="searchmenulink" id="searchmenulink" image="/images/icons/glass.png" />
<roundcube:object name="plugin.searchform" id="quicksearchbox" />
<roundcube:button command="reset-search" id="searchreset" image="/images/icons/reset.gif" title="resetsearch" />
</div>

<roundcube:object name="plugin.calendar_css" />

<script type="text/javascript">

// use skin functions to handle popup-menus
rcube_init_mail_ui();
rcmail_ui.popups.calendaroptions = { id:'calendaroptionsmenu', above:1, obj:$('#calendaroptionsmenu') };

$(document).ready(function(e){
  // initialize sidebar toggle
  $('#sidebartoggle').click(function() {
    var width = $(this).data('sidebarwidth');
    var offset = $(this).data('offset');
    var $sidebar = $('#sidebar'), time = 250;
    
    if ($sidebar.is(':visible')) {
      $sidebar.animate({ left:'-'+(width+10)+'px' }, time, function(){ $('#sidebar').hide(); });
      $(this).animate({ left:'8px'}, time, function(){ $('#sidebartoggle').addClass('sidebarclosed') });
      $('#calendar').animate({ left:'20px'}, time, function(){ $(this).fullCalendar('render'); });
    }
    else {
      $sidebar.show().animate({ left:'10px' }, time);
      $(this).animate({ left:offset+'px'}, time, function(){ $('#sidebartoggle').removeClass('sidebarclosed'); });
      $('#calendar').animate({ left:(width+16)+'px'}, time, function(){ $(this).fullCalendar('render'); });
    }
  })
  .data('offset', $('#sidebartoggle').position().left)
  .data('sidebarwidth', $('#sidebar').width() + $('#sidebar').position().left);
});

</script>

</body>
</html>
